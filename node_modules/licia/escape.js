var keys = require('./keys');

exports = function exports(str) {
    return regTest.test(str) ? str.replace(regReplace, replaceFn) : str;
};

var map = (exports.map = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;'
});
var regSrc = '(?:' + keys(map).join('|') + ')',
    regTest = new RegExp(regSrc),
    regReplace = new RegExp(regSrc, 'g');

function replaceFn(match) {
    return map[match];
}

module.exports = exports;
